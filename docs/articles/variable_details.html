<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>variable_details worksheet • recodeflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="variable_details worksheet">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">recodeflow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    How To

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/how_to_install.html">How to install</a>
    </li>
    <li>
      <a href="../articles/how_to_recode.html">How to transform</a>
    </li>
    <li>
      <a href="../articles/how_to_use_recodeflow_with_your_data.html">How to add variables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/variable_details.html">variable_details</a>
    </li>
    <li>
      <a href="../articles/variables_sheet.html">variable_sheet</a>
    </li>
    <li>
      <a href="../articles/derived_variables.html">Derived variables</a>
    </li>
    <li>
      <a href="../articles/rec_with_table.html">Rec with table</a>
    </li>
    <li>
      <a href="../articles/missing_data_(tagged_na).html">How to use tagged_na</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Big-Life-Lab/recodeflow/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="variable_details_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="variable_details_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="variable_details_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="variable_details_files/datatables-binding-0.33/datatables.js"></script><link href="variable_details_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="variable_details_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="variable_details_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="variable_details_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="variable_details_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><script src="variable_details_files/kePrint-0.0.1/kePrint.js"></script><link href="variable_details_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>variable_details worksheet</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Big-Life-Lab/recodeflow/blob/HEAD/vignettes/variable_details.Rmd" class="external-link"><code>vignettes/variable_details.Rmd</code></a></small>
      <div class="hidden name"><code>variable_details.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The worksheet <code>variable_details</code> maps variables across
datasets. <code>variable_details</code> also contains the instructions
for function <code>rec_with_table</code> on how to recode the variables
listed in the worksheet <code>variables</code>.</p>
<p>Specifically, the function <code>rec_with_table</code> recodes
variables listed in column <code>variable_details$variableStart</code>
to the variables listed in <code>variable_details$variable</code>.</p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119"],["age","age","age","albumin","albumin","albumin","alk.phos","alk.phos","ascites","ascites","ascites","ascites","alk.phos","ast","ast","ast","bili","bili","chol","chol","chol","copper","copper","edema","edema","edema","edema","edema","hepato","hepato","hepato","copper","platelet","platelet","platelet","protime","protime","hepato","sex","sex","sex","sex","spiders","spiders","spiders","spiders","stage","stage","stage","stage","stage","stage","status","status","status","status","protime","time","time","time","trig","trig","status","trt","trt","trt","trt","trig","example_der","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","agegrp5","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","age_cont","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10","agegrp10"],[null,null,null,null,null,null,null,null,"ascites_cat3_1","ascites_cat3_2","ascites_cat3_NA::b","ascites_cat3_NA::a",null,null,null,null,null,null,null,null,null,null,null,"edema_cat3_1","edema_cat3_2","edema_cat3_3","edema_cat3_NA::b","edema_cat3_NA::a","heapto_cat3_1","heapto_cat3_1","heapto_cat3_NA::a",null,null,null,null,null,null,"heapto_cat3_NA::b","sex_cat2_1","sex_cat2_2","sex_cat2_NA::b","sex_cat2_NA::a","spiders0","spiders1","spiders_NA::b","spiders_NA::a","stage1","stage2","stage3","stage4","stage_NA::b","stage_NA::a","status0","status1","status2","status_NA::b",null,null,null,null,null,null,"status_NA::a","trt1","trt2","trt_NA::b","trt_NA::a",null,null,"agegrp10_cat6_1","agegrp10_cat6_2","agegrp10_cat6_3","agegrp10_cat6_4","agegrp10_cat6_5","agegrp10_cat6_6","agegrp10_cat6_NA::b","agegrp5_cat11_1","agegrp5_cat11_2","agegrp5_cat11_3","agegrp5_cat11_4","agegrp5_cat11_5","agegrp5_cat11_6","agegrp5_cat11_7","agegrp5_cat11_8","agegrp5_cat11_9","agegrp5_cat11_10","agegrp5_cat11_11","agegrp5_cat11_NA::b",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"agegrp10_cat6_1","agegrp10_cat6_2","agegrp10_cat6_2","agegrp10_cat6_3","agegrp10_cat6_3","agegrp10_cat6_4","agegrp10_cat6_4","agegrp10_cat6_5","agegrp10_cat6_5","agegrp10_cat6_6","agegrp10_cat6_6","agegrp10_cat6_NA::b"],["cont","cont","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat"],["cont","cont","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cont","cont","cont","cont","cont","cont","cat","cat","cat","cat","cat","cont","cont","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat","cat"],["tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester1; tester2","tester2","tester2","tester2","tester2","tester2","tester2","tester2","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester2","tester2","tester2","tester2","tester2","tester2","tester2","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1","tester1"],["[age]","[age]","[age]","[albumin]","[albumin]","[albumin]","[alk.phos]","[alk.phos]","[ascites]","[ascites]","[ascites]","[ascites]","[alk.phos]","[ast]","[ast]","[ast]","[bili]","[bili]","[chol]","[chol]","[chol]","[copper]","[copper]","[edema]","[edema]","[edema]","[edema]","[edema]","[hepato]","[hepato]","[hepato]","[copper]","[platelet]","[platelet]","[platelet]","[protime]","[protime]","[hepato]","[sex]","[sex]","[sex]","[sex]","[spiders]","[spiders]","[spiders]","[spiders]","[stage]","[stage]","[stage]","[stage]","[stage]","[stage]","[status]","[status]","[status]","[status]","[protime]","[time]","[time]","[time]","[trig]","[trig]","[status]","[trt]","[trt]","[trt]","[trt]","[trig]","DerivedVar::[chol, bili]","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester2::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp","tester1::agegrp"],["age","age","age","albumin","albumin","albumin","alk.phos","alk.phos","ascites","ascites","ascites","ascites","alk.phos","ast","ast","ast","bili","bili","chol","chol","chol","copper","copper","edema","edema","edema","edema","edema","hepato","hepato","hepato","copper","platelet","platelet","platelet","protime","protime","hepato","sex","sex","sex","sex","spiders","spiders","spiders","spiders","stage","stage","stage","stage","stage","stage","status","status","status","status","protime","time","time","time","trig","trig","status","trt","trt","trt","trt","trig","example_der","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age"],[null,null,null,null,null,null,null,null,2,2,2,2,null,null,null,null,null,null,null,null,null,null,null,3,3,3,3,3,2,2,2,null,null,null,null,null,null,2,2,2,2,2,2,2,2,2,4,4,4,4,4,4,3,3,3,3,null,null,null,null,null,null,3,2,2,2,2,null,null,6,6,6,6,6,6,6,11,11,11,11,11,11,11,11,11,11,11,11,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,6,6,6,6,6,6,6,6,6,6,6,6,6],["copy","NA::b","NA::a","copy","NA::b","NA::a","copy","NA::b","0","1","NA::b","NA::a","NA::a","copy","NA::b","NA::a","copy","NA::b","copy","NA::b","NA::a","copy","NA::b","0","0.5","1","NA::b","NA::a","0","1","NA::b","NA::a","copy","NA::b","NA::a","copy","NA::b","NA::a","m","f","NA::b","NA::a","0","1","NA::b","NA::a","1","2","3","4","NA::b","NA::a","0","1","2","NA::b","NA::a","copy","NA::b","NA::a","copy","NA::b","NA::a","1","2","NA::b","NA::a","NA::a","Func::example_der_fun","1","2","3","4","5","6","NA::b","1","2","3","4","5","6","7","8","9","10","11","Na::b","27","32","37","42","47","52","57","62","67","72","77","NA::b","25","35","45","55","65","75","NA::b","1","2","2","3","3","4","4","5","5","6","6","NA::b"],[null,"missing","not applicable",null,"missing","not applicable",null,"missing","ascites 0","ascites 1","missing","not applicable","not applicable",null,"missing","not applicable",null,"missing",null,"missing","missing",null,"missing","edema 0.0","edema 0.5","edema 1.0","missing","not applicable","hepato 0","hepato 1","missing","missing",null,"missing","not applicable",null,"missing","not applicable","sex m","sex f","missing","not applicable","spiders 0","spiders 1","missing","not applicable","stage 1","stage 2","stage 3","stage 4","missing","not applicable","status 0","status 1","status 2","missing","not applicable",null,"missing","not applicable",null,"missing","not applicable","trt 1","trt 2","missing","not applicable","missing","N/A","20-29","30-39","40-49","50-59","60-69","70-79","missing","25-29","30-34","35-39","40-44","45-49","50-54","55-59","60-64","65-69","70-74","75-79","missing",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"20-29","30-39","30-39","40-49","40-49","50-59","50-59","60-69","60-69","70-79","70-79","missing"],[null,"missing","not applicable",null,"missing","not applicable",null,"missing","ascites 0","ascites 1","missing","not applicable","not applicable",null,"missing","not applicable",null,"missing",null,"missing","missing",null,"missing","edema 0.0","edema 0.5","edema 1.0","missing","not applicable","hepato 0","hepato 1","missing","missing",null,"missing","not applicable",null,"missing","not applicable","sex m","sex f","missing","not applicable","spiders 0","spiders 1","missing","not applicable","stage 1","stage 2","stage 3","stage 4","missing","not applicable","status 0","status 1","status 2","missing","not applicable",null,"missing","not applicable",null,"missing","not applicable","trt 1","trt 2","missing","not applicable","missing","N/A","20-29","30-39","40-49","50-59","60-69","70-79","missing","25-29","30-34","35-39","40-44","45-49","50-54","55-59","60-64","65-69","70-74","75-79","missing",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"20-29","30-39","30-39","40-49","40-49","50-59","50-59","60-69","60-69","70-79","70-79","missing"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years","years"],["[20,80]","else","999","[1,5]","else","99","[200,15000]","else","0","1","else","9","99999","[20,500]","else","9999","[0,100]","else","[100,2000]","else","9999","[0,1000]","else","0","0.5","1","else","9","0","1","else","9999","[0,1000]","else","9999","[5, 30]","else","9","m","f","else","9","0","1","else","9","1","2","3","4","else","9","0","1","2","else","99","[0,5000]","else","9999","[0,1000]","else","9","1","2","else","9","9999","else","1","2","3","4","5","6","else","1","2","3","4","5","6","7","8","9","10","11","else","1","2","3","4","5","6","7","8","9","10","11","else","1","2","3","4","5","6","else","1","2","3","4","5","6","7","8","9","10","11","else"],[null,null,null,null,null,null,null,null,"ascites 0","ascites 1","ascites 0","not applicable",null,null,null,null,null,null,null,null,null,null,null,"edema 0.0","edema 0.5","edema 1.0","missing","not applicable","hepato 0","hepato 1","missing",null,null,null,null,null,null,"not applicable","sex m","sex f","sex m","sex m","spiders 0","spiders 1","spiders 0","not applicable","stage 1","stage 2","stage 3","stage 4","missing","not applicable","status 0","status 1","status 2","status 0",null,null,null,null,null,null,"not applicable","trt 1","trt 2","trt 1","not applicable",null,"N/A","20-29","30-39","40-49","50-59","60-69","70-79","missing","20-29","30-39","30-39","40-49","40-49","50-59","50-59","60-69","60-69","70-79","70-79","missing","20-29","30-39","30-39","40-49","40-49","50-59","50-59","60-69","60-69","70-79","70-79","missing","20-29","30-39","40-49","50-59","60-69","70-79","missing","20-29","30-39","30-39","40-49","40-49","50-59","50-59","60-69","60-69","70-79","70-79","missing"],["age","age","age","albumin","albumin","albumin","alk.phos","alk.phos","ascites","ascites","ascites",null,"alk.phos","ast","ast","ast","bili","bili","chol","chol","chol","copper","copper","edema","edema","edema","edema","edema","hepato","hepato","hepato","copper","platelet","platelet","platelet","protime","protime","hepato","sex","sex","sex","sex","spiders","spiders","spiders","spiders","stage","stage","stage","stage","stage","stage","status","status","status","status","protime","time","time","time","trig","trig","status","trt","trt","trt","trt","trig","example_der","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age","grouped age"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"A test derived variable",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>variable<\/th>\n      <th>dummyVariable<\/th>\n      <th>typeEnd<\/th>\n      <th>typeStart<\/th>\n      <th>databaseStart<\/th>\n      <th>variableStart<\/th>\n      <th>variableStartLabel<\/th>\n      <th>numValidCat<\/th>\n      <th>recEnd<\/th>\n      <th>catLabel<\/th>\n      <th>catLabelLong<\/th>\n      <th>units<\/th>\n      <th>recStart<\/th>\n      <th>catStartLabel<\/th>\n      <th>variableStartShortLabel<\/th>\n      <th>notes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":2,"columnDefs":[{"className":"dt-right","targets":8},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"variable","targets":1},{"name":"dummyVariable","targets":2},{"name":"typeEnd","targets":3},{"name":"typeStart","targets":4},{"name":"databaseStart","targets":5},{"name":"variableStart","targets":6},{"name":"variableStartLabel","targets":7},{"name":"numValidCat","targets":8},{"name":"recEnd","targets":9},{"name":"catLabel","targets":10},{"name":"catLabelLong","targets":11},{"name":"units","targets":12},{"name":"recStart","targets":13},{"name":"catStartLabel","targets":14},{"name":"variableStartShortLabel","targets":15},{"name":"notes","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[2,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><pre><code><span><span class="co">#&gt; In the dataframe `variable_details` there are 119 rows and 16 columns</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="structure-of-the-worksheet-variable_details">Structure of the worksheet <code>variable_details</code><a class="anchor" aria-label="anchor" href="#structure-of-the-worksheet-variable_details"></a>
</h2>
<div class="section level3">
<h3 id="naming-convention-for-not-applicable-and-missing-values">Naming convention for not applicable and missing values<a class="anchor" aria-label="anchor" href="#naming-convention-for-not-applicable-and-missing-values"></a>
</h3>
<p><code><a href="../reference/rec_with_table.html">rec_with_table()</a></code> uses the <code><a href="https://haven.tidyverse.org/reference/tagged_na.html" class="external-link">tagged_na()</a></code>
function from the <a href="https://www.rdocumentation.org/packages/haven/versions/2.1.1" class="external-link">haven</a>
package to tag not applicable responses as <code>NA(a)</code>, and
missing values (don’t know, refusal, not stated) as <code>NA(b)</code>.
As you will see later, not applicable values are recoded to
<code>NA::a</code>, and missing values are recoded to
<code>NA::b</code>. See <a href="tagged_na_usage.html">tagged_na_usage</a> for more information
about <code><a href="https://haven.tidyverse.org/reference/tagged_na.html" class="external-link">tagged_na()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="rows">Rows<a class="anchor" aria-label="anchor" href="#rows"></a>
</h3>
<p>Each row in <code>variable_details</code> gives instructions to
recode a single category of a final variable. Typically, a single
category of a final variable maps to a single category of an original
variable. Therefore, in <code>variable_details</code> you’ll have one
row per category.</p>
<p>There are two exceptions to this rule.</p>
<ol style="list-style-type: decimal">
<li>Original categories are sometimes combined into a single final
variable category. For example,</li>
</ol>
<ul>
<li>Most often survey responses “don’t know,” “refusal,” and “not
stated” are combined into a final single “missing” category.</li>
<li>Original age group categories are often combined into larger age
groups categories (e.g., original five-year age group categories are
combined into final ten-year age group categories).</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Original datasets with different categories map to separate rows for
a final variable. For example,</li>
</ol>
<ul>
<li>The final variable, “Sex,” has categories “1” = male and “2” =
female.</li>
<li>Dataset A has sex categories “m” = male and “f” = female.</li>
<li>Dataset B has categories “1” = male and “2” = female.</li>
<li>Variable_details requires four rows to map the final “Sex”
categories = two for dataset A and two for dataset B.</li>
</ul>
<p><strong>Note</strong>: We recommend not combining variables if the
variable has an important change between datasets.
<code>variable_detailsdetails$notes</code> is used to identify issues
that may be relevant when recoding the variable or category.</p>
</div>
<div class="section level3">
<h3 id="columns">Columns<a class="anchor" aria-label="anchor" href="#columns"></a>
</h3>
<p>Here we explain the columns in the worksheet
<code>variable_details</code>.</p>
<p><strong>Table 1.</strong> Summary of the source and level of
information used for each column in the worksheet
‘variable_details’.</p>
<table class="table table" style="margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Level of information
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Data_source
</th>
<th style="text-align:left;">
Dataset
</th>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Categories
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="5">
recoded
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
variable *
</td>
<td style="text-align:left;">
recEnd *
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
typeEnd *
</td>
<td style="text-align:left;">
numValidCat
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
catLabel
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
catLongLabel
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
units
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="3">
original
</td>
<td style="text-align:left;">
databaseStart
</td>
<td style="text-align:left;">
variableStart *
</td>
<td style="text-align:left;">
recStart *
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
typeStart *
</td>
<td style="text-align:left;">
catStartLabel
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
variableStartlabel
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
both
</td>
<td style="text-align:left;">
notes
</td>
<td style="text-align:left;">
notes
</td>
<td style="text-align:left;">
notes
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup>*</sup> Columns required for the function rec_with_table. All other
columns are recommended but optional.
</td>
</tr></tfoot>
</table>
<p>The order of the columns within the worksheet
<code>variable_details</code> is not important because recodeflow
functions use the column names.</p>
<ol style="list-style-type: decimal">
<li>
<strong>variable:</strong> the name of the final recoded
variable.</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li>
<strong>typeEnd:</strong> the data type of the final recoded
variable. If the recoded variable is continuous fill in as
<code>cont</code>; if the recoded variable that is categorical fill in
as <code>cat</code> .</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: decimal">
<li>
<strong>typeStart:</strong> the variable type as indicated in
datasets. As indicated in the <strong>typeEnd</strong> column,
categorical variables are denoted as <code>cat</code> and continuous
variables are denoted as <code>cont</code>.</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li>
<strong>databaseStart:</strong> the datasets that contain the
variable and categories of interest, separated by commas.</li>
</ol>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li>
<strong>variableStart:</strong> the original names of the variables
as they are listed in the original datasets, separated by commas.</li>
</ol>
<ul>
<li>If the variable name in a particular dataset is different from the
recoded variable name, write out the dataset name, add two colons, and
write out the original variable name for that dataset.</li>
<li>If the variable name in a particular dataset is the same as the
recoded variable name, write the variable name in square brackets. Note:
this only needs to be written out <strong>once</strong>.</li>
</ul>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
</tr>
</tbody>
</table>
<ol start="6" style="list-style-type: decimal">
<li>
<strong>variableStartLabel:</strong> short form label describing the
original variable.</li>
</ol>
<table class="table">
<colgroup>
<col width="11%">
<col width="24%">
<col width="10%">
<col width="12%">
<col width="22%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
</tr>
</tbody>
</table>
<ol start="7" style="list-style-type: decimal">
<li>
<strong>numValidCat:</strong> the number of categories for the
recoded variable. This only applies to variables in which the
<strong>typeEnd</strong> is cat. For continuous variables,
<code>numValidCat = N/A</code>. Note that for categories: not
applicable, missing, and else, are not included in the category count.
This column is not necessary for the function
<code><a href="../reference/rec_with_table.html">rec_with_table()</a></code>.</li>
</ol>
<table class="table">
<colgroup>
<col width="9%">
<col width="19%">
<col width="8%">
<col width="10%">
<col width="17%">
<col width="14%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
</tr>
</tbody>
</table>
<ol start="8" style="list-style-type: decimal">
<li>
<strong>recEnd:</strong> the category of the categorical value your
recoding to. For the not applicable category, write <code>NA::a</code>
and for missing and else categories, write <code>NA::b</code>. For
continuous variables that are not recoded in type, you would write in
this column <code>copy</code> so that the function copies the values
without any recoding.</li>
</ol>
<table class="table">
<colgroup>
<col width="8%">
<col width="17%">
<col width="7%">
<col width="9%">
<col width="15%">
<col width="12%">
<col width="17%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<ul>
<li>For categorical variables that remain categorical (i.e. from: cat
-&gt; to: cat), it is ideal to retain the same values as indicated in
the original datasets.</li>
<li>For categorical variables that have changed in type (i.e from: cat
-&gt; to: cont), you will have to develop values that make the most
sense to your analysis. For example, for variables that change from: cat
-&gt; to: cont, you can choose the categories’ lower bound, mid-point,
or upper-bound for the continuous value.</li>
</ul>
<ol start="9" style="list-style-type: decimal">
<li>
<strong>catLabel:</strong> short form label describing the category
of a particular variable.</li>
</ol>
<table style="width:100%;" class="table">
<colgroup>
<col width="7%">
<col width="16%">
<col width="6%">
<col width="8%">
<col width="14%">
<col width="12%">
<col width="16%">
<col width="10%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
</tr>
</tbody>
</table>
<ol start="10" style="list-style-type: decimal">
<li>
<strong>catLabelLong:</strong> more detailed label describing the
category of a particular variable. If the category is unchanged from
original data, this label should be identical to what is recorded in the
original data’s documentation (e.g., the exact survey question). For
derived variables, you can create your own long label.</li>
</ol>
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="14%">
<col width="6%">
<col width="7%">
<col width="13%">
<col width="10%">
<col width="14%">
<col width="9%">
<col width="5%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
<th align="left">catLabel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
<td align="left">ascites 0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
<td align="left">ascites 1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
</tr>
</tbody>
</table>
<ol start="11" style="list-style-type: decimal">
<li>
<strong>units:</strong> the units of a particular variable. If there
are no units for the variable, write <code>N/A</code>. Note, the
function will not work if there different units between the rows of the
same variable (e.g. if the concentration of a single molecule has two
records one recorded as mg/dl and the other recorded as g/dl).</li>
</ol>
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="13%">
<col width="5%">
<col width="6%">
<col width="11%">
<col width="9%">
<col width="13%">
<col width="8%">
<col width="4%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
<th align="left">catLabel</th>
<th align="left">catLabelLong</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
<td align="left">ascites 0</td>
<td align="left">ascites 0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
<td align="left">ascites 1</td>
<td align="left">ascites 1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
</tr>
</tbody>
</table>
<ol start="12" style="list-style-type: decimal">
<li>
<strong>recStart:</strong> the range of values for a particular
category in a variable as indicated in the original data. See data
documentation and use the smallest and large values as your range to
capture all values across the datasets.</li>
</ol>
<p>The rules for each category of a new variable are a string in
<code>recStart</code> and value in <code>recEnd</code>. These recode
pairs are the same syntax as interval notation in which a closed range
of values are specified using square brackets. See <a href="https://en.wikipedia.org/wiki/Interval_(mathematics)" class="external-link">Notations
for intervals</a> for more information on interval notation. Recode
pairs are obtained from the recStart and recEnd columns <em>value
range</em> is indicated by a comma,
e.g. <code>recStart= [1,4]; recEnd = 1</code> (recodes all values from 1
to 4 into 1} <em>value range</em> for double vectors (with fractional
part), all values within the specified range are recoded;
e.g. <code>recStart = [1,2.5]; recEnd = 1</code> recodes 1 to 2.5 into
1, but 2.55 would not be recoded (since it’s not included in the
specified range). <em>NA</em> is used for missing values (don’t know,
refusal, not stated) <em>else</em> is used all other values, which have
not been specified yet, are indicated by <code>else</code>,
e.g. <code>recStart = "else"; recEnd = NA</code> (recode all other
values (not specified in other rows) to “NA”)} <em>copy</em> the
<code>else</code> token can be combined with <code>copy</code>,
indicating that all remaining, not yet recoded values should stay the
same (are copied from the original value),
e.g. <code>recStart = "else"; recEnd = "copy"</code></p>
<table style="width:100%;" class="table">
<colgroup>
<col width="7%">
<col width="16%">
<col width="6%">
<col width="8%">
<col width="14%">
<col width="12%">
<col width="16%">
<col width="10%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
</tr>
</tbody>
</table>
<ol start="13" style="list-style-type: decimal">
<li>
<strong>catStartLabel:</strong> label describing each category. This
label should be identical to what is shown in the original data
documentation. For the missing rows, each missing category is described
along with their coded values. You can import labels from a survey’s DDI
files using <code>bllflow</code> helper functions. See <a href="http://bllflow.projectbiglife.ca" class="external-link">bllflow documentation</a>.</li>
</ol>
<table class="table">
<colgroup>
<col width="5%">
<col width="11%">
<col width="4%">
<col width="6%">
<col width="10%">
<col width="8%">
<col width="11%">
<col width="7%">
<col width="4%">
<col width="9%">
<col width="9%">
<col width="3%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
<th align="left">catLabel</th>
<th align="left">catLabelLong</th>
<th align="left">units</th>
<th align="left">recStart</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">[200,15000]</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
<td align="left">NA</td>
<td align="left">else</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
<td align="left">ascites 0</td>
<td align="left">ascites 0</td>
<td align="left">NA</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
<td align="left">ascites 1</td>
<td align="left">ascites 1</td>
<td align="left">NA</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
<td align="left">NA</td>
<td align="left">else</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
<td align="left">NA</td>
<td align="left">9</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
<td align="left">NA</td>
<td align="left">99999</td>
</tr>
</tbody>
</table>
<ol start="14" style="list-style-type: decimal">
<li>
<strong>notes:</strong> any relevant notes to inform the user
running the <code>recode-with-table</code> function. Things to include
here would be changes in wording across datasets, missing/changes in
categories, and changes in variable type across datasets.</li>
</ol>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="10%">
<col width="4%">
<col width="5%">
<col width="9%">
<col width="7%">
<col width="10%">
<col width="6%">
<col width="3%">
<col width="8%">
<col width="8%">
<col width="3%">
<col width="6%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
<th align="left">catLabel</th>
<th align="left">catLabelLong</th>
<th align="left">units</th>
<th align="left">recStart</th>
<th align="left">catStartLabel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">copy</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">[200,15000]</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
<td align="left">NA</td>
<td align="left">else</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_1</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">0</td>
<td align="left">ascites 0</td>
<td align="left">ascites 0</td>
<td align="left">NA</td>
<td align="left">0</td>
<td align="left">ascites 0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_2</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">1</td>
<td align="left">ascites 1</td>
<td align="left">ascites 1</td>
<td align="left">NA</td>
<td align="left">1</td>
<td align="left">ascites 1</td>
</tr>
<tr class="odd">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::b</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::b</td>
<td align="left">missing</td>
<td align="left">missing</td>
<td align="left">NA</td>
<td align="left">else</td>
<td align="left">ascites 0</td>
</tr>
<tr class="even">
<td align="left">ascites</td>
<td align="left">ascites_cat3_NA::a</td>
<td align="left">cat</td>
<td align="left">cat</td>
<td align="left">tester1; tester2</td>
<td align="left">[ascites]</td>
<td align="left">ascites</td>
<td align="right">2</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
<td align="left">NA</td>
<td align="left">9</td>
<td align="left">not applicable</td>
</tr>
<tr class="odd">
<td align="left">alk.phos</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">[alk.phos]</td>
<td align="left">alk.phos</td>
<td align="right">NA</td>
<td align="left">NA::a</td>
<td align="left">not applicable</td>
<td align="left">not applicable</td>
<td align="left">NA</td>
<td align="left">99999</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="derived-variables">Derived Variables<a class="anchor" aria-label="anchor" href="#derived-variables"></a>
</h2>
<p>The same naming convention applies to derived variables with the
exception of two columns:</p>
<ol style="list-style-type: decimal">
<li>In <strong>variableStart</strong>, instead of database names being
listed, <strong>DerivedVar::</strong> is written followed with the list
of original variables used inside square brackets.</li>
</ol>
<ul>
<li><code>DerivedVar::[var1, var2, var3]</code></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>In <strong>recEnd</strong>, write <strong>Func::</strong> followed
with the exact name of the custom function used to create the derived
variable.</li>
</ol>
<ul>
<li><code>Func::derivedFunction</code></li>
</ul>
<p>A derived variable looks like this in
<code>variable_details.csv</code></p>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="5%">
<col width="3%">
<col width="4%">
<col width="7%">
<col width="10%">
<col width="7%">
<col width="5%">
<col width="9%">
<col width="3%">
<col width="5%">
<col width="2%">
<col width="3%">
<col width="5%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">dummyVariable</th>
<th align="left">typeEnd</th>
<th align="left">typeStart</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">variableStartLabel</th>
<th align="right">numValidCat</th>
<th align="left">recEnd</th>
<th align="left">catLabel</th>
<th align="left">catLabelLong</th>
<th align="left">units</th>
<th align="left">recStart</th>
<th align="left">catStartLabel</th>
<th align="left">variableStartShortLabel</th>
<th align="left">notes</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">example_der</td>
<td align="left">NA</td>
<td align="left">cont</td>
<td align="left">cont</td>
<td align="left">tester1; tester2</td>
<td align="left">DerivedVar::[chol, bili]</td>
<td align="left">example_der</td>
<td align="right">NA</td>
<td align="left">Func::example_der_fun</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">NA</td>
<td align="left">else</td>
<td align="left">N/A</td>
<td align="left">example_der</td>
<td align="left">A test derived variable</td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h2>
<p>Certain derived variables may need information from a reference table
to complete their derivation. For example, imagine a derived variable
that has the average sodium consumption for an individual specific to
the individual’s age and sex. It makes sense to put this information in
a table that maps the individual’s age and sex to their sodium
consumption like below,</p>
<table class="table">
<thead><tr class="header">
<th align="right">age</th>
<th align="left">sex</th>
<th align="right">sodium_consumption</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">18</td>
<td align="left">male</td>
<td align="right">1800</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="left">male</td>
<td align="right">1500</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">female</td>
<td align="right">2100</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="left">female</td>
<td align="right">1600</td>
</tr>
</tbody>
</table>
<p>with the derivation function shown below,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sodium_consumption</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">age</span>, <span class="va">sex</span>, <span class="va">reference_table</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">reference_table</span><span class="op">[</span><span class="va">reference_table</span><span class="op">$</span><span class="va">age</span> <span class="op">==</span> <span class="va">age</span> <span class="op">&amp;</span> <span class="va">reference_table</span><span class="op">$</span><span class="va">sex</span> <span class="op">==</span> <span class="va">sex</span>, <span class="op">]</span><span class="op">$</span><span class="va">sodium_consumption</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The reference_table argument in the above function expects a data
frame.</p>
<p>Including a table in the start variables for a derived variable can
be done using the syntax, <code>tables::&lt;table_name&gt;</code> where
<strong><table_name></table_name></strong> should be replaced with the name of the
table. For the <code>sodium_consumption</code> derived variable, the
entry in the variables sheet would be,</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="10%">
<col width="4%">
<col width="7%">
<col width="30%">
<col width="5%">
<col width="13%">
<col width="10%">
<col width="4%">
<col width="4%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">typeEnd</th>
<th align="left">databaseStart</th>
<th align="left">variableStart</th>
<th align="left">typeStart</th>
<th align="left">recEnd</th>
<th align="left">numValidCategories</th>
<th align="left">recStart</th>
<th align="left">catLabel</th>
<th align="left">catLabelLong</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">sodium_consumption</td>
<td align="left">cont</td>
<td align="left">database_one</td>
<td align="left">DerivedVar::[age, sex,
tables::sodium_reference_table]</td>
<td align="left">N/A</td>
<td align="left">Func::sodium_consumption</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left"></td>
<td align="left"></td>
</tr></tbody>
</table>
<p>When using the <code>rec_with_table</code> function, the
<code>tables</code> argument can be used to include all the tables
mentioned in the variables sheet.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Yulric Sequeira, Luke Bailey, Rostyslav.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
